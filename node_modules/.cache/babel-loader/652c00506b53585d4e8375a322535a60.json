{"remainingRequest":"/Users/william/code/william-personal/portfolio/node_modules/babel-loader/lib/index.js!/Users/william/code/william-personal/portfolio/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/william/code/william-personal/portfolio/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/william/code/william-personal/portfolio/src/components/AnimateOnVisible.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/william/code/william-personal/portfolio/src/components/AnimateOnVisible.vue","mtime":1621811889190},{"path":"/Users/william/code/william-personal/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/william/code/william-personal/portfolio/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/william/code/william-personal/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/william/code/william-personal/portfolio/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGlzUGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlOwoKdHJ5IHsKICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGlzUGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7CiAgICB9CiAgfSk7CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRpb25zKTsKfSBjYXRjaCAoZXJyKSB7CiAgY29uc29sZS5sb2coIlBhc3NpdmUgbm90IHN1cHBvcnRlZCIpOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG5hbWU6IFN0cmluZywKICAgIGFwcGVhcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG9mZnNldFRvcDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBkdXJhdGlvbjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Zpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5WaWV3cG9ydDogZnVuY3Rpb24gaW5WaWV3cG9ydCgpIHsKICAgICAgdmFyIHJlY3QgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgcmV0dXJuIHJlY3QudG9wIDw9IHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMub2Zmc2V0VG9wICYmIHJlY3QubGVmdCA8PSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIH0sCiAgICBkZXRlY3RWaXNpYmlsaXR5OiBmdW5jdGlvbiBkZXRlY3RWaXNpYmlsaXR5KCkgewogICAgICB0aGlzLmlzVmlzaWJsZSA9IHRoaXMuaW5WaWV3cG9ydCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKHRoaXMuZGV0ZWN0VmlzaWJpbGl0eSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZXRlY3RWaXNpYmlsaXR5LCBpc1Bhc3NpdmVTdXBwb3J0ZWQgPyB7CiAgICAgIHBhc3NpdmU6IHRydWUKICAgIH0gOiBmYWxzZSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kZXRlY3RWaXNpYmlsaXR5LCBpc1Bhc3NpdmVTdXBwb3J0ZWQgPyB7CiAgICAgIHBhc3NpdmU6IHRydWUKICAgIH0gOiBmYWxzZSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLmRldGVjdFZpc2liaWxpdHksIGlzUGFzc2l2ZVN1cHBvcnRlZCA/IHsKICAgICAgcGFzc2l2ZTogdHJ1ZQogICAgfSA6IGZhbHNlKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuZGV0ZWN0VmlzaWJpbGl0eSk7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kZXRlY3RWaXNpYmlsaXR5KTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMuZGV0ZWN0VmlzaWJpbGl0eSk7CiAgfQp9Ow=="},{"version":3,"sources":["AnimateOnVisible.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA,IAAA,kBAAA,GAAA,KAAA;;AACA,IAAA;AACA,MAAA,OAAA,GAAA,MAAA,CAAA,cAAA,CAAA,EAAA,EAAA,SAAA,EAAA;AACA,IAAA,GAAA,EAAA;AAAA,aAAA,kBAAA,GAAA,IAAA;AAAA;AADA,GAAA,CAAA;AAGA,EAAA,MAAA,CAAA,gBAAA,CAAA,MAAA,EAAA,IAAA,EAAA,OAAA;AACA,CALA,CAKA,OAAA,GAAA,EAAA;AACA,EAAA,OAAA,CAAA,GAAA,CAAA,uBAAA;AACA;;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,MAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAFA;AAGA,IAAA,SAAA,EAAA;AAAA,MAAA,IAAA,EAAA,MAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAHA;AAIA,IAAA,QAAA,EAAA;AAAA,MAAA,IAAA,EAAA,MAAA;AAAA,MAAA,OAAA,EAAA;AAAA;AAJA,GADA;AAQA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAAA,GARA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,IAAA,GAAA,KAAA,GAAA,CAAA,qBAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,IAAA,MAAA,CAAA,WAAA,GAAA,KAAA,SAAA,IAAA,IAAA,CAAA,IAAA,IAAA,MAAA,CAAA,UAAA;AACA,KAJA;AAKA,IAAA,gBALA,8BAKA;AACA,WAAA,SAAA,GAAA,KAAA,UAAA,EAAA;AACA;AAPA,GAZA;AAsBA,EAAA,OAtBA,qBAsBA;AACA,SAAA,SAAA,CAAA,KAAA,gBAAA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,gBAAA,EAAA,kBAAA,GAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAAA,GAAA,KAAA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,gBAAA,EAAA,kBAAA,GAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAAA,GAAA,KAAA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,mBAAA,EAAA,KAAA,gBAAA,EAAA,kBAAA,GAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAAA,GAAA,KAAA;AACA,GA3BA;AA6BA,EAAA,SA7BA,uBA6BA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,gBAAA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,gBAAA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,mBAAA,EAAA,KAAA,gBAAA;AACA;AAjCA,CAAA","sourcesContent":["<template>\n  <div>\n    <transition :name=\"name\" :appear=\"appear\">\n      <div v-if=\"isVisible\" :style=\"{ animationDuration: `${duration}s`, transitionDuration: `${duration}s` }\">\n        <slot></slot>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nlet isPassiveSupported = false;\ntry {\n  const options = Object.defineProperty({}, 'passive', {\n    get: () => isPassiveSupported = true\n  });\n  window.addEventListener('test', null, options);\n} catch (err) {\n\tconsole.log(\"Passive not supported\");\n}\n\nexport default {\n  props: {\n    name: String,\n    appear: { type: Boolean, default: false },\n    offsetTop: { type: Number, default: 0 },\n    duration: { type: Number, default: 1 }\n  },\n\n  data: () => ({\n    isVisible: false\n  }),\n\n  methods: {\n    inViewport() {\n      const rect = this.$el.getBoundingClientRect()\n      return rect.top <= (window.innerHeight - this.offsetTop) && rect.left <= window.innerWidth\n    },\n    detectVisibility() {\n      this.isVisible = this.inViewport()\n    }\n  },\n\n  mounted() {\n    this.$nextTick(this.detectVisibility)\n    window.addEventListener('scroll', this.detectVisibility, isPassiveSupported ? { passive: true } : false)\n    window.addEventListener('resize', this.detectVisibility, isPassiveSupported ? { passive: true } : false)\n    window.addEventListener('orientationchange', this.detectVisibility, isPassiveSupported ? { passive: true } : false)\n  },\n  \n  destroyed() {\n    window.removeEventListener('scroll', this.detectVisibility)\n    window.removeEventListener('resize', this.detectVisibility)\n    window.removeEventListener('orientationchange', this.detectVisibility)\n  }\n}\n</script>"],"sourceRoot":"src/components"}]}