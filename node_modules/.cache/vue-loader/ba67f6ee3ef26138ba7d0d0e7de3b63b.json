{"remainingRequest":"/Users/william/code/william-personal/portfolio/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/william/code/william-personal/portfolio/src/components/AnimateOnVisible.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/william/code/william-personal/portfolio/src/components/AnimateOnVisible.vue","mtime":1621811889190},{"path":"/Users/william/code/william-personal/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/william/code/william-personal/portfolio/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/william/code/william-personal/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/william/code/william-personal/portfolio/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmxldCBpc1Bhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTsKdHJ5IHsKICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHsKICAgIGdldDogKCkgPT4gaXNQYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZQogIH0pOwogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0aW9ucyk7Cn0gY2F0Y2ggKGVycikgewoJY29uc29sZS5sb2coIlBhc3NpdmUgbm90IHN1cHBvcnRlZCIpOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG5hbWU6IFN0cmluZywKICAgIGFwcGVhcjogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgb2Zmc2V0VG9wOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LAogICAgZHVyYXRpb246IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxIH0KICB9LAoKICBkYXRhOiAoKSA9PiAoewogICAgaXNWaXNpYmxlOiBmYWxzZQogIH0pLAoKICBtZXRob2RzOiB7CiAgICBpblZpZXdwb3J0KCkgewogICAgICBjb25zdCByZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkKICAgICAgcmV0dXJuIHJlY3QudG9wIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLm9mZnNldFRvcCkgJiYgcmVjdC5sZWZ0IDw9IHdpbmRvdy5pbm5lcldpZHRoCiAgICB9LAogICAgZGV0ZWN0VmlzaWJpbGl0eSgpIHsKICAgICAgdGhpcy5pc1Zpc2libGUgPSB0aGlzLmluVmlld3BvcnQoKQogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljayh0aGlzLmRldGVjdFZpc2liaWxpdHkpCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZXRlY3RWaXNpYmlsaXR5LCBpc1Bhc3NpdmVTdXBwb3J0ZWQgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlKQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZGV0ZWN0VmlzaWJpbGl0eSwgaXNQYXNzaXZlU3VwcG9ydGVkID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSkKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMuZGV0ZWN0VmlzaWJpbGl0eSwgaXNQYXNzaXZlU3VwcG9ydGVkID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSkKICB9LAogIAogIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmRldGVjdFZpc2liaWxpdHkpCiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kZXRlY3RWaXNpYmlsaXR5KQogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5kZXRlY3RWaXNpYmlsaXR5KQogIH0KfQo="},{"version":3,"sources":["AnimateOnVisible.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"AnimateOnVisible.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <transition :name=\"name\" :appear=\"appear\">\n      <div v-if=\"isVisible\" :style=\"{ animationDuration: `${duration}s`, transitionDuration: `${duration}s` }\">\n        <slot></slot>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nlet isPassiveSupported = false;\ntry {\n  const options = Object.defineProperty({}, 'passive', {\n    get: () => isPassiveSupported = true\n  });\n  window.addEventListener('test', null, options);\n} catch (err) {\n\tconsole.log(\"Passive not supported\");\n}\n\nexport default {\n  props: {\n    name: String,\n    appear: { type: Boolean, default: false },\n    offsetTop: { type: Number, default: 0 },\n    duration: { type: Number, default: 1 }\n  },\n\n  data: () => ({\n    isVisible: false\n  }),\n\n  methods: {\n    inViewport() {\n      const rect = this.$el.getBoundingClientRect()\n      return rect.top <= (window.innerHeight - this.offsetTop) && rect.left <= window.innerWidth\n    },\n    detectVisibility() {\n      this.isVisible = this.inViewport()\n    }\n  },\n\n  mounted() {\n    this.$nextTick(this.detectVisibility)\n    window.addEventListener('scroll', this.detectVisibility, isPassiveSupported ? { passive: true } : false)\n    window.addEventListener('resize', this.detectVisibility, isPassiveSupported ? { passive: true } : false)\n    window.addEventListener('orientationchange', this.detectVisibility, isPassiveSupported ? { passive: true } : false)\n  },\n  \n  destroyed() {\n    window.removeEventListener('scroll', this.detectVisibility)\n    window.removeEventListener('resize', this.detectVisibility)\n    window.removeEventListener('orientationchange', this.detectVisibility)\n  }\n}\n</script>"]}]}